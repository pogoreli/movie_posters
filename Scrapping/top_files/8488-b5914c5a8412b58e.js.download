"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8488],{93760:function(e,t,n){n.d(t,{Z:function(){return Y}});var r,i,a,o,s=n(52322),l=n(2784),d=n(4283),c=n(85767),u=n(83128),E=n(51250);let A="ad-oo",p={getConsentFromCookie(e,t){let n=(0,E.rZ)(A,t?.headers);if(void 0!==n)return!(parseInt(n)&e)},setConsentToCookie(e,t,n){let r=(0,E.rZ)(A,n),i=0;if(void 0!==r&&(("number"==typeof r||"string"==typeof r)&&(i=parseInt(r)),i&t&&!e||!(i&t)&&e))return;e||(i|=t);let a=new Date;a.setHours(a.getHours()+36),(0,E.Ys)(A,i.toString(),a,"shared")}};var _=n(88023),f=n(54073),h=n.n(f),m=n(45455),N=n.n(m),w=n(12859),I=n(76460);let v=(e,t)=>{window?.mediaOrchestrator?.publish(e,t)},g=e=>{let t=e?.slots;return t&&t[w.A.SIS_PIXEL]?.slotMarkup},T=(e,t)=>{let n=e.match(/el\.src="(.*)";/),r=n?n[1]:void 0;return r||t.error("Failed to retrieve SIS Pixel URL"),r},S=async(e,t)=>{try{return await fetch(e,{method:"GET",credentials:"include"}),!0}catch(e){t.error("Error fetching SIS Pixel",e)}};var L=n(48574);let D=(0,n(16189).createLogger)()("util_sisPixel_rws");(r=a||(a={})).GRANTED="granted",r.PROMPT="prompt",r.DENIED="denied";let P=new Set().add("fake_treatment_1.1").add("fake_treatment_1.2").add("fake_treatment_1.3").add("fake_control_2"),y=["mousedown","scroll","keydown"],O="https://amazon-adsystem.com",R=async()=>{let e="cookieDeprecationLabel"in navigator,t="requestStorageAccessFor"in document;if(!e||!t)return D.log("Browser not compatible with Related Website Sets",{hasCookieDeprecationLabel:e,hasRequestStorageAccessFor:t}),!1;try{let e=await navigator.cookieDeprecationLabel.getValue();return D.log(`Received cookieDeprecationLabel: ${e}`),P.has(e)}catch(e){return D.error("Issue fetching cookieDeprecationLabel",e),!1}},k=async()=>{let e=await b();switch(D.log(`Received storageAccessPermissionStatus: ${e}`),e){case"granted":return C();case"prompt":return M()}D.log(`'top-level-storage-access' permissions for ${O}: denied`)},M=async()=>{let e;if(!navigator.userActivation)return;let t=new Promise(t=>{e=e=>t(e)}),n=async()=>{navigator.userActivation.isActive&&(y.forEach(e=>{document.removeEventListener(e,n)}),await C(),e(!0))};return y.forEach(e=>{document.addEventListener(e,n)}),t},b=async()=>{try{return(await navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:O})).state}catch(e){D.error("Error querying Storage Access permissions",e);return}},C=async()=>{if("requestStorageAccessFor"in document)try{return await document.requestStorageAccessFor(O),!0}catch(e){D.error("Error requesting storage access",e)}},x=l.memo(e=>{let{sisSlotMarkup:t}=e,[n,r]=(0,l.useState)(!1),i=(0,L.wL)("util_sisSlotMarkup");return(0,l.useEffect)(()=>{(async()=>{if(!await R())return r(!0);await k();let e=T(t,i);e&&await S(e,i)})()},[]),n?(0,s.jsx)("div",{ref:_.dangerouslySetHTML.bind(null,t)}):null});(i=o||(o={})).AUTOPLAY_VIDEO_MAYBE_PRESENT_EVENT_TYPE="1P-ad-autoplay-video-maybe-present",i.EMPTY="",i.ENDED="ended",i.LOADSTART="loadstart",i.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE="no-autoplay-video-ad-detected",i.PAUSE="pause",i.PLAY="play",i.THIRD_PARTY_AD_DETECTED_EVENT_TYPE="3P-ad-no-autoplay-video-detected";let W=e=>{let{adSlotsInfo:t}=e;(0,I.WJ)();let n=()=>{(0,_.isFullscreen)()||(0,_.makeAdAJAXRequest)(t).finally(()=>_.responsiveAdAPIWrapper.setPreviousWindowWidth())},{slotsEnabled:r,clientSideUrlBase:i,atfSlots:a,slotSizeMap:d,apsSlotInfoMap:c}=(0,I.OF)(t);l.useEffect(()=>{let e,s;if(r&&!N()(d)&&(_.responsiveAdAPIWrapper.setPreviousWindowWidth(),e=h()(n,750),window.addEventListener("resize",e),t?.adRefreshInfo?.isEnabled&&("complete"===document.readyState?(0,_.handleAutoRefresh)(t):window.addEventListener("load",()=>(0,_.handleAutoRefresh)(t)))),!r||!i||!a.includes(w.A.INLINE20)){let e={type:o.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,slotName:w.A.INLINE20,timestamp:Date.now()},t={type:o.EMPTY,slotName:"",timestamp:Date.now()};v(_.MediaEvent.MEDIA_PLAYBACK_EVENT_NAME,e),v(_.MediaEvent.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,t)}return()=>{e&&window.removeEventListener("resize",e),s&&window.removeEventListener("load",s)}},[]);let u=(0,I.Bf)(r,i,a,d,c),E=g(t);return(0,s.jsxs)(s.Fragment,{children:[E?(0,s.jsx)(x,{sisSlotMarkup:E}):null,(0,s.jsx)("script",{async:!0,dangerouslySetInnerHTML:{__html:u}})]})};function Y(){let e=(0,c.B)(),{adSlotsInfo:t}=(0,u.Ok)();return e?.context?.sidecar?.ads?.adsCcbaConsent!==void 0&&p.setConsentToCookie(e.context.sidecar?.ads?.adsCcbaConsent,16,e.context?.headers),(0,s.jsx)(d.Z,{name:"IMDbNextAdPageData",children:(0,s.jsx)(W,{adSlotsInfo:t})})}},12859:function(e,t,n){n.d(t,{A:function(){return r}});let r={INLINE20:"inline20",INLINE40_MAIN:"inline40-responsive-main",INLINE40_SIDEBAR:"inline40-responsive-sidebar",INLINE40:"inline40",INLINE50:"inline50",INLINE60:"inline60",INLINE80:"inline80",INLINEBOTTOM:"inlinebottom",INTERSTITIAL:"interstitial",MEDIAVIEWER_BANNER:"mediaviewer_banner",PROMOTED_WATCH_BAR:"promoted_watch_bar",PROVIDER_PROMOTION:"provider_promotion",SIS_PIXEL:"sis_pixel",VIDEO_CAROUSEL_ADSCANNER:"video_carousel_adscanner"}},76460:function(e,t,n){var r,i,a,o,s,l;n.d(t,{WJ:function(){return d},Bf:function(){return c},OF:function(){return u},Wd:function(){return E}}),(o=r||(r={})).PREMIUM="premium",o.STANDARD="standard",(s=i||(i={})).BLANK="blank",s.UNKNOWN="unknown",(l=a||(a={})).BLANK="blk",l.UNKNOWN="unk";let d=()=>{void 0===window.hasAdAJAXCallFired&&(window.hasAdAJAXCallFired=!1)},c=(e,t,n,r,i)=>`
        if (window && window.ad_utils && window.ad_utils.makeAtfSlotsCall) {
            window.ad_utils.makeAtfSlotsCall(
                ${e},
                '${t}',
                '${n}',
                ${JSON.stringify(r)},
                ${i?JSON.stringify(i):"{}"});
    }`,u=e=>({slotsEnabled:!e||e.slotsEnabled,clientSideUrlBase:e?e.clientSideUrl:"",atfSlots:e&&e.slots?Object.keys(e.slots).join(","):"",slotSizeMap:e?e.slotSizeMap:{},apsSlotInfoMap:e&&e.apsSlotInfoMap||{}}),E=e=>!e||e?.creativeMetadata?.creativeWidth===0||e?.creativeMetadata?.adProductType?.name===i.BLANK},80978:function(e,t,n){n.d(t,{R:function(){return r}});let r="inline20-page-background"},50926:function(e,t,n){n.d(t,{Gs:function(){return i},K0:function(){return r},ff:function(){return a}});let r=function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&e.url&&e.height&&e.width){let i=e.caption?.plainText||t;n={url:e.url,maxHeight:e.height,maxWidth:e.width,caption:r?t:i}}return n},i=(e,t)=>{let n;return e&&e.url&&e.height&&e.width&&t&&(n={url:e.url,maxHeight:e.height,maxWidth:e.width,caption:t}),n},a=e=>{let t;return e&&e.url&&e.height&&e.width&&e.caption&&(t={url:e.url,maxHeight:e.height,maxWidth:e.width,caption:e.caption}),t}}}]);